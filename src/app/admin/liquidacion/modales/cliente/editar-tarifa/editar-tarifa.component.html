    
    <div class="modal-dialog modal-dialog-centered">      
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-2">Editar</h1>                        
                <button type="button" class="btn-close btn " id="cerrar" (click)="activeModal.close()"></button>
            </div>
            <div class="modal-body">                          
                <div class="row h-100">
                <div class="col-4 isDisabled h-100">
                    <h3>Tarifa Aplicada: {{facDetallada.tarifaTipo.personalizada ? "Personalizada" : facDetallada.tarifaTipo.eventual ? "Eventual" : facDetallada.tarifaTipo.especial ? "Especial" : "General"}}</h3>
                    <!-- GENERAL/ESPECIAL --> 
                    <ng-container *ngIf="operacion.tarifaTipo.general || operacion.tarifaTipo.especial">
                        <div class="border border-dark border-1 rounded-4 shadow p-3 mb-3 bg-body-tertiary rounded h-100 sectores">
                            <div class="form-group mb-2">
                                <label for="Categoria" class="fs-5">Categoria</label>
                                <div class="input-group">                                
                                    <input class="w-100" type="text" [value]="ultimaTarifa.cargasGenerales[vehiculoOp[0].categoria.catOrden - 1].nombre">
                                </div>                                                        
                            </div>
                            <div class="form-group mb-2">
                                <label for="km" class="fs-5">Valor</label>
                                <div class="input-group">   
                                    <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                             
                                    <input class="form-control" type="text" [value]="formatearValor(ultimaTarifa.cargasGenerales[vehiculoOp[0].categoria.catOrden - 1].valor)">
                                </div>                                                        
                            </div>
                            <div class="form-group mb-2">
                                <label for="km" class="fs-5">Km 1er Sector valor</label>
                                <div class="input-group">   
                                    <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                             
                                    <input class="form-control" type="text" [value]="formatearValor(ultimaTarifa.cargasGenerales[vehiculoOp[0].categoria.catOrden - 1].adicionalKm.primerSector)">
                                </div>                                                        
                            </div>
                            <div class="form-group mb-2">
                                <label for="km" class="fs-5">Km Intervalos valor</label>
                                <div class="input-group">  
                                    <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                              
                                    <input class="form-control" type="text" [value]="formatearValor(ultimaTarifa.cargasGenerales[vehiculoOp[0].categoria.catOrden - 1].adicionalKm.sectoresSiguientes)" >
                                </div>                                                        
                            </div>
                            <div class="form-group mb-2">
                                <label for="km" class="fs-5">Acompañante</label>
                                <div class="input-group"> 
                                    <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                              
                                    <input class="form-control" type="text" [value]="formatearValor(ultimaTarifa.adicionales.acompaniante)">
                                </div>                                                        
                            </div>
                            <div class="form-group mb-2">
                                <label for="km" class="fs-5">Km 1er Sector distancia</label>
                                <div class="input-group">  
                                    <span class="input-group-text" id="basic-addon1" style="width:30px">Km</span>                              
                                    <input class="form-control" type="text" [value]="formatearValor(ultimaTarifa.adicionales.KmDistancia.primerSector)">
                                </div>                                                        
                            </div>
                            <div class="form-group mb-2">
                                <label for="km" class="fs-5">Km Intervalos distancia</label>
                                <div class="input-group">  
                                    <span class="input-group-text" id="basic-addon1" style="width:30px">Km</span>                              
                                    <input class="form-control" type="text" [value]="formatearValor(ultimaTarifa.adicionales.KmDistancia.sectoresSiguientes)">
                                </div>                                                        
                            </div>
                        </div>                    
                    </ng-container>  
                    <!-- EVENTUAL -->
                    <ng-container *ngIf="facDetallada.tarifaTipo.eventual">
                        <div class="border border-dark border-1 rounded-4 shadow p-3 mb-3 bg-body-tertiary rounded h-100 sectores">
                            <h4>Cliente: </h4>
                            <div class="form-group mb-2">
                                <label for="Categoria" class="fs-5">Concepto</label>
                                <div class="input-group">                                
                                    <input class="w-100" type="text" [value]="operacion.tarifaEventual.cliente.concepto">
                                </div>                                                        
                            </div>
                            <div class="form-group mb-2">
                                <label for="km" class="fs-5">Valor</label>
                                <div class="input-group">   
                                    <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                             
                                    <input class="form-control" type="text" [value]="formatearValor(operacion.tarifaEventual.cliente.valor)">
                                </div>                                                        
                            </div>
                            <h4 class="mt-4">Chofer: </h4>
                            <div class="form-group mb-2">
                                <label for="km" class="fs-5">Concepto</label>
                                <div class="input-group">                                       
                                    <input class="w-100" type="text" [value]="operacion.tarifaEventual.chofer.concepto">
                                </div>                                                        
                            </div>
                            <div class="form-group mb-2">
                                <label for="km" class="fs-5">Valor</label>
                                <div class="input-group">  
                                    <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                              
                                    <input class="form-control" type="text" [value]="formatearValor(operacion.tarifaEventual.chofer.valor)">
                                </div>                                                        
                            </div>                            
                        </div>                    
                    </ng-container>  
                    <!-- PERSONALIZADA -->
                    <ng-container *ngIf="facDetallada.tarifaTipo.personalizada">
                        <div class="border border-dark border-1 rounded-4 shadow p-3 mb-3 bg-body-tertiary rounded h-100 sectores">
                            <div class="form-group mb-2">
                                <label for="Seccion" class="fs-5">Sección: {{tarifaPersonalizada.secciones[operacion.tarifaPersonalizada.seccion - 1].descripcion}}</label>
                                <div class="input-group">                                
                                    <input class="w-100" type="text" [value]="'Seccion ' +  tarifaPersonalizada.secciones[operacion.tarifaPersonalizada.seccion - 1].orden">
                                </div>                                                        
                                <div class="form-group mb-2">
                                    <label for="Categoria" class="fs-5">Categoria : {{tarifaPersonalizada.secciones[operacion.tarifaPersonalizada.seccion - 1].categorias[operacion.tarifaPersonalizada.categoria - 1].orden}}</label>
                                    <div class="input-group">                                
                                        <input class="w-100" type="text" [value]="tarifaPersonalizada.secciones[operacion.tarifaPersonalizada.seccion - 1].categorias[operacion.tarifaPersonalizada.categoria - 1].nombre">
                                    </div>                                                        
                                </div>
                                <div class="form-group mb-2">
                                    <label for="aCobrar" class="fs-5">A Cobrar</label>
                                    <div class="input-group">  
                                        <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                               
                                        <input class="form-control w-100" type="text" [value]="formatearValor(tarifaPersonalizada.secciones[operacion.tarifaPersonalizada.seccion - 1].categorias[operacion.tarifaPersonalizada.categoria - 1].aCobrar)">
                                    </div>                                                        
                                </div>
                                <div class="form-group mb-2">
                                    <label for="aPagar" class="fs-5">A Pagar</label>
                                    <div class="input-group">                    
                                        <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>             
                                        <input class="form-control w-100" type="text" [value]="formatearValor(tarifaPersonalizada.secciones[operacion.tarifaPersonalizada.seccion - 1].categorias[operacion.tarifaPersonalizada.categoria - 1].aPagar)">
                                    </div>                                                        
                                </div>
                            </div>
                        </div>
                    </ng-container>
                </div>
                <div class="col-8 h-100">
                    <h3>Operacion</h3>
                    <div class="row border border-dark border-1 rounded-4 shadow p-3 mb-3 bg-body-tertiary rounded h-100 sectores">
                        <div class="col">
                            <h4 class="">Detalle</h4>
                            <div class="border border-dark border-1 rounded-4 shadow p-3 mb-3 bg-body-tertiary rounded" >
                                <div class="form-group mb-3 isDisabled">
                                    <label for="Fecha" class="fs-5">Fecha</label>
                                    <div class="input-group">                                
                                        <input class="w-100" type="text" [value]="operacion.fecha">
                                    </div>                                                        
                                </div>
                                <div class="form-group mb-3 isDisabled">
                                    <label for="Chofer" class="fs-5">Chofer</label>
                                    <div class="input-group">                                
                                        <input class="w-100" type="text" [value]="operacion.chofer.apellido + ' ' + operacion.chofer.nombre ">
                                    </div>                                                        
                                </div>
                                <div class="form-group mb-3 isDisabled">
                                    <label for="Acompaniante" class="fs-5">Acompañante</label>
                                    <div class="input-group">                                
                                        <input class="w-100" type="text" [value]="operacion.acompaniante ? 'Si' : 'No'">
                                    </div>                                                        
                                </div>
                                <div class="form-group mb-3 isDisabled">
                                    <label for="km" class="fs-5">Km recorridos</label>
                                    <div class="input-group">  
                                        <span class="input-group-text" id="basic-addon1" style="width:30px">Km</span>                              
                                        <input class="form-control" type="text" [value]="formatearValor(operacion.km)">
                                    </div>                                                  
                                </div>
                                <div class="form-group mb-3 " >
                                    <label for="observaciones" class="fs-5">Observaciones</label>
                                    <div class="input-group">    
                                        <textarea class="w-100" type="text" style="height: 75px;" [(ngModel)]="operacion.observaciones"></textarea>                                        
                                    </div>                                                        
                                </div>
                                
                            </div>    
                        </div>
                        <div class="col">
                            <h4 class="">Valores</h4>
                            <ng-container *ngIf="!facDetallada.tarifaTipo.personalizada" else personalizada>
                                <div class="border border-dark border-1 rounded-4 shadow p-3 mb-3 bg-body-tertiary rounded">
                                    <div class="form-group mb-3" [ngClass]="{'isDisabled':facDetallada.tarifaTipo.eventual}">
                                        <label for="Base" class="fs-5">Tarifa Base</label>
                                        <div class="input-group">       
                                            <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                              
                                            <input  class="form-control edicion" required type="number" [(ngModel)]="facDetallada.valores.tarifaBase">
                                        </div>                                                        
                                    </div>                                
                                    <div class="form-group mb-3" [ngClass]="{'isDisabled':facDetallada.tarifaTipo.eventual}">
                                        <label for="adiconalAcompaniante" class="fs-5">Adicional Acompañante</label>
                                        <div class="input-group">     
                                            <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                                
                                            <input  class="form-control edicion" required type="number" [(ngModel)]="facDetallada.valores.acompaniante">
                                        </div>                                                        
                                    </div>
                                    <div class="form-group mb-3" [ngClass]="{'isDisabled':facDetallada.tarifaTipo.eventual}">
                                        <label for="adiconalKm" class="fs-5">Adicional Km</label>
                                        <div class="input-group">   
                                            <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                                  
                                            <input  class="form-control edicion" required type="number" [(ngModel)]="facDetallada.valores.kmMonto">
                                        </div>                                                        
                                    </div>
                                    <div class="form-group mb-3">
                                        <label for="total" class="fs-5">Total</label>
                                        <div class="input-group">    
                                            <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                                 
                                            <input  class="form-control edicion" required type="number" [(ngModel)]="facDetallada.valores.total">
                                        </div>                                                        
                                    </div>                               
                                </div>    
                                <ng-container *ngIf="facDetallada.tarifaTipo.general || facDetallada.tarifaTipo.especial">
                                    <div class="border border-dark border-1 rounded-4 shadow p-2 mb-1 bg-body-tertiary rounded">
                                        <p class="fs-5">Los cambios en los montos no se verán reflejados en la tarfia, solo se aplicarán a esta factura.</p>
                                    </div>                       
                                </ng-container>                            
                                <ng-container *ngIf="facDetallada.tarifaTipo.eventual">
                                    <div class="border border-dark border-1 rounded-4 shadow p-2 mb-1 bg-body-tertiary rounded">
                                        <p class="fs-5">En la Tarifa Eventual el único valor modificable de la factura es el Total a cobrar.</p>
                                    </div>                       
                                </ng-container>
                            </ng-container>  
                            <ng-container #personalizada>
                                <div class="border border-dark border-1 rounded-4 shadow p-3 mb-3 bg-body-tertiary rounded">
                                    <div class="form-group mb-3" [ngClass]="{'isDisabled':facDetallada.tarifaTipo.eventual}">
                                        <label for="Base" class="fs-5">Tarifa Base</label>
                                        <div class="input-group">       
                                            <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                              
                                            <input  class="form-control edicion" required type="number" [(ngModel)]="facDetallada.valores.tarifaBase">
                                        </div>                                                        
                                    </div>                                
                                    <div class="form-group mb-3" [ngClass]="{'isDisabled':facDetallada.tarifaTipo.eventual}">
                                        <label for="adiconalAcompaniante" class="fs-5">Adicional Acompañante</label>
                                        <div class="input-group">     
                                            <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                                
                                            <input  class="form-control edicion" required type="number" [(ngModel)]="facDetallada.valores.acompaniante">
                                        </div>                                                        
                                    </div>
                                    <div class="form-group mb-3" [ngClass]="{'isDisabled':facDetallada.tarifaTipo.eventual}">
                                        <label for="adiconalKm" class="fs-5">Adicional Km</label>
                                        <div class="input-group">   
                                            <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                                  
                                            <input  class="form-control edicion" required type="number" [(ngModel)]="facDetallada.valores.kmMonto">
                                        </div>                                                        
                                    </div>
                                    <div class="form-group mb-3">
                                        <label for="total" class="fs-5">Total</label>
                                        <div class="input-group">    
                                            <span class="input-group-text" id="basic-addon1" style="width:30px">$</span>                                 
                                            <input  class="form-control edicion" required type="number" [(ngModel)]="facDetallada.valores.total">
                                        </div>                                                        
                                    </div>                               
                                </div>  
                            </ng-container>                          
                        </div>
                    </div>
                </div>
                

                  <!-- <div class="modal-footer d-flex justify-content-between">
                    <div>
                      <div>
                        <button *ngIf="!edicion"  class="btn btn-outline-secondary mb-2" (click)="modificarTarifa()">
                          Modificar
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                            <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                          </svg>
                        </button>   
                      <button *ngIf="edicion" class="btn btn-outline-secondary" (click)="modificarTarifa()">
                        
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                          </svg>
                      </button>  
                      </div>
                    </div>
                    <div>
                      <button class="btn btn-outline-secondary" (click)="onSubmitEdit()" >Guardar</button>  
                    </div>                
                  </div> -->
                </div>      
            </div>    
            <div class="modal-footer">
                <app-btn-agregar name="Guardar" (click)="onSubmit()"></app-btn-agregar>        
            </div>    
        </div>
    
  